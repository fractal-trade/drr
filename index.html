<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>С Днем Рождения, тетя Ксюша!</title>
    <style>
        * {margin:0; padding:0; box-sizing:border-box;}
        body {
            font-family:'Arial', sans-serif;
            background:linear-gradient(135deg,#ff9a9e 0%,#fad0c4 100%);
            height:100vh; overflow:hidden;
            display:flex; flex-direction:column; justify-content:center; align-items:center;
            touch-action:manipulation;
        }
        .container {position:relative; width:100%; height:100%; display:flex; flex-direction:column; justify-content:center; align-items:center;}
        .cake-container {position:relative; width:300px; height:300px; margin-bottom:20px; perspective:1000px;}
        .cake-layer {position:absolute; background:linear-gradient(to bottom,#f9c5d1,#fce4ec); border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.2); border:2px solid #fff; transform-origin:center bottom; opacity:0; display:flex; justify-content:center; align-items:center; color:#d23669; font-weight:bold; text-align:center; padding:10px;}
        .layer-1{width:250px;height:60px;bottom:0;left:25px;animation:dropIn .5s .5s forwards,wiggle .3s 1s forwards;z-index:1;}
        .layer-2{width:220px;height:50px;bottom:60px;left:40px;animation:dropIn .5s 1s forwards,wiggle .3s 1.5s forwards;z-index:2; background:linear-gradient(to bottom,#f8b3d0,#fad1e6);}
        .layer-3{width:190px;height:40px;bottom:110px;left:55px;animation:dropIn .5s 1.5s forwards,wiggle .3s 2s forwards;z-index:3; background:linear-gradient(to bottom,#f7a1cf,#f8bfe3);}
        .layer-4{width:160px;height:30px;bottom:150px;left:70px;animation:dropIn .5s 2s forwards,wiggle .3s 2.5s forwards;z-index:4; background:linear-gradient(to bottom,#f68fcb,#f6addf);}
        .icing{position:absolute;background:#fff;border-radius:50%;filter:drop-shadow(0 2px 2px rgba(0,0,0,0.1));}
        .icing-1{width:15px;height:15px;bottom:55px;left:50px;animation:icingDrop .5s 2.7s forwards;z-index:5;}
        .icing-2{width:20px;height:20px;bottom:100px;right:50px;animation:icingDrop .5s 2.8s forwards;z-index:5;}
        .icing-3{width:18px;height:18px;bottom:30px;right:80px;animation:icingDrop .5s 2.9s forwards;z-index:5;}
        .icing-4{width:12px;height:12px;bottom:130px;left:80px;animation:icingDrop .5s 3s forwards;z-index:5;}
        .candle{position:absolute;width:12px;height:0;background:linear-gradient(to bottom,#ffd700,#ffa500);bottom:180px;left:145px;z-index:5;border-radius:5px 5px 0 0;animation:candleGrow .5s 3.5s forwards;box-shadow:0 0 5px rgba(0,0,0,0.3);}
        .flame{position:absolute;width:14px;height:0;background:radial-gradient(circle at 50% 30%,#ffff99,#ff9900,#ff4500);border-radius:50% 50% 20% 20%;filter:blur(1px);bottom:220px;left:144px;z-index:6;opacity:0;animation:flameGrow .5s 4s forwards,flicker .3s infinite alternate 4.5s;transform-origin:center bottom;box-shadow:0 0 15px rgba(255,140,0,0.8);}
        .birthday-text{position:absolute;font-size:24px;font-weight:bold;color:#d23669;text-shadow:1px 1px 2px white;text-align:center;opacity:0;bottom:20%;left:50%;transform:translateX(-50%);z-index:10;}
        .confetti{position:absolute;width:10px;height:10px;background-color:#f00;opacity:0;z-index:7;box-shadow:0 0 3px rgba(0,0,0,0.3);}
        .balloon{position:absolute;border-radius:50%;opacity:0;z-index:6;box-shadow:inset -5px -10px rgba(0,0,0,0.2);}
        .firework{position:absolute;width:5px;height:5px;border-radius:50%;opacity:0;z-index:8;box-shadow:0 0 20px rgba(255,255,255,0.8);}
        .wish-button{position:absolute;bottom:10%;left:50%;transform:translateX(-50%);padding:12px 24px;background:linear-gradient(to right,#ff758c,#ff7eb3);color:white;border:none;border-radius:30px;font-size:18px;font-weight:bold;cursor:pointer;box-shadow:0 4px 15px rgba(0,0,0,0.2);z-index:20;opacity:0;transition:transform .3s,box-shadow .3s;display:none;}
        .wish-button:active{transform:translateX(-50%) scale(.95);box-shadow:0 2px 5px rgba(0,0,0,0.2);}
        .wish-message{position:absolute;background:rgba(255,255,255,0.95);padding:15px;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,0.2);max-width:80%;text-align:center;font-size:16px;color:#d23669;opacity:0;z-index:21;transition:opacity .5s;}
        @keyframes dropIn{from{transform:translateY(-500px) rotateX(90deg);opacity:0;}to{transform:translateY(0) rotateX(0);opacity:1;}}
        @keyframes wiggle{0%,100%{transform:rotate(0);}25%{transform:rotate(2deg);}75%{transform:rotate(-2deg);}}
        @keyframes icingDrop{from{transform:translateY(-100px);opacity:0;}to{transform:translateY(0);opacity:1;}}
        @keyframes candleGrow{from{height:0;}to{height:40px;}}
        @keyframes flameGrow{from{height:0;opacity:0;}to{height:25px;opacity:1;}}
        @keyframes flicker{0%,100%{transform:scale(1);opacity:1;}50%{transform:scale(1.1,.9);opacity:.8;}}
        @keyframes confettiFall{0%{transform:translateY(-100px) rotate(0);opacity:1;}100%{transform:translateY(1000px) rotate(360deg);opacity:0;}}
        @keyframes balloonFloat{0%{transform:translateY(1000px);opacity:1;}100%{transform:translateY(-1000px);opacity:.7;}}
        @keyframes fireworkExplode{0%{transform:scale(0);opacity:0;}50%{opacity:1;}100%{transform:scale(30);opacity:0;}}
        @keyframes textPop{0%{transform:translateY(20px) scale(.8);opacity:0;}100%{transform:translateY(0) scale(1);opacity:1;}}
    </style>
</head>
<body>
    <div class="container">
        <div class="cake-container">
            <div class="cake-layer layer-1"></div>
            <div class="cake-layer layer-2"></div>
            <div class="cake-layer layer-3"></div>
            <div class="cake-layer layer-4"></div>
            <div class="icing icing-1"></div>
            <div class="icing icing-2"></div>
            <div class="icing icing-3"></div>
            <div class="icing icing-4"></div>
            <div class="candle"></div>
            <div class="flame"></div>
        </div>
        <div class="birthday-text">С Днем Рождения, тетя Ксюша!</div>
        <button class="wish-button">Пожелания</button>
        <audio id="birthdayAudio" src="happy.mp3" preload="auto"></audio>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded',function(){
            const flame=document.querySelector('.flame');
            const birthdayText=document.querySelector('.birthday-text');
            const audio=document.getElementById('birthdayAudio');
            const wishButton=document.querySelector('.wish-button');
            const container=document.querySelector('.container');
            let isCandleBlown=false;
            flame.addEventListener('click',function(){
                if(isCandleBlown)return;
                isCandleBlown=true;
                flame.style.animation='none';
                flame.style.transform='scale(0)';
                flame.style.opacity='0';
                birthdayText.style.animation='textPop .5s forwards';
                audio.play().catch(e=>console.log("Автовоспроизведение заблокировано:",e));
                startCelebration();
                createWishButton();
            });
            function startCelebration(){
                setInterval(createConfetti,150);
                setInterval(createBalloon,800);
                setInterval(createFirework,1200);
            }
            function createConfetti(){
                const confetti=document.createElement('div');
                confetti.className='confetti';
                const colors=['#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff','#ffa500','#ff69b4'];
                const c=colors[Math.floor(Math.random()*colors.length)];
                confetti.style.backgroundColor=c;
                if(Math.random()>.5)confetti.style.borderRadius='50%';
                confetti.style.left=Math.random()*100+'%';
                const size=Math.random()*12+6;
                confetti.style.width=size+'px'; confetti.style.height=size+'px';
                container.appendChild(confetti);
                confetti.style.animation=`confettiFall ${Math.random()*3+2}s linear forwards`;
                setTimeout(()=>confetti.remove(),5000);
            }
            function createBalloon(){
                const balloon=document.createElement('div');
                balloon.className='balloon';
                const colors=['#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff','#ffa500','#ff69b4'];
                balloon.style.backgroundColor=colors[Math.floor(Math.random()*colors.length)];
                const size=Math.random()*50+40;
                balloon.style.width=size+'px'; balloon.style.height=size+'px';
                balloon.style.left=Math.random()*90+'%'; balloon.style.bottom='-60px';
                container.appendChild(balloon);
                const duration=Math.random()*10+8;
                balloon.style.animation=`balloonFloat ${duration}s linear forwards`;
                setTimeout(()=>balloon.remove(),duration*1000);
            }
            function createFirework(){
                const colors=['#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff','#ffa500','#ff69b4'];
                for(let i=0;i<6;i++){
                    setTimeout(()=>{
                        const firework=document.createElement('div');
                        firework.className='firework';
                        firework.style.backgroundColor=colors[Math.floor(Math.random()*colors.length)];
                        firework.style.left=Math.random()*100+'%';
                        firework.style.top=(Math.random()*70+10)+'%';
                        container.appendChild(firework);
                        firework.style.animation=`fireworkExplode ${Math.random()*0.5+0.6}s ease-out forwards`;
                        setTimeout(()=>firework.remove(),2000);
                    },i*150);
                }
            }
            function createWishButton(){
                wishButton.style.display='block';
                wishButton.style.opacity='1';
                const wishes=[
                    "Здоровья крепкого, как сталь!","Счастья — через край!","Улыбок ярких, как солнце!","Мечты пусть сбываются!","Денег — как листьев осенью!","Любви — бескрайней, как океан!","Удачи во всех начинаниях!","Пусть каждый день будет праздником!",
                    "Энергии и вдохновения каждый день!","Друзей верных и искренних!","Путешествий в самые красивые места!","Уютного счастья в доме!","Гармонии в душе и в сердце!","Всегда хорошего настроения!","Чтобы все желания исполнялись мгновенно!","Пусть жизнь будет сладкой, как торт!","Новых ярких впечатлений!","Смеха и радости без конца!","Тепла от близких людей!","Пусть каждый год будет лучше предыдущего!","Везения в делах и приключениях!","Сюрпризов только приятных!","Света, добра и тепла вокруг!","Чтобы сердце всегда пело от счастья!"
                ];
                wishButton.addEventListener('click',function(){
                    const wishMessage=document.createElement('div');
                    wishMessage.className='wish-message';
                    wishMessage.textContent=wishes[Math.floor(Math.random()*wishes.length)];
                    wishMessage.style.left=(Math.random()*50+10)+'%';
                    wishMessage.style.top=(Math.random()*50+20)+'%';
                    container.appendChild(wishMessage);
                    setTimeout(()=>{wishMessage.style.opacity='1';},10);
                    setTimeout(()=>{wishMessage.style.opacity='0'; setTimeout(()=>wishMessage.remove(),500);},3000);
                });
            }
        });
    </script>
</body>
</html>